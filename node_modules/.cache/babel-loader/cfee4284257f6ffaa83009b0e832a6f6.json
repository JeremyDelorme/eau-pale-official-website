{"ast":null,"code":"import _objectSpread from\"/Users/jeremydelorme/Documents/web_development/eau-pale-official-website/eau-pale-official-website/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/jeremydelorme/Documents/web_development/eau-pale-official-website/eau-pale-official-website/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/jeremydelorme/Documents/web_development/eau-pale-official-website/eau-pale-official-website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import{createContext,useContext,useState}from'react';import{ShoppingCart}from'../components/ShoppingCart';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShoppingCartContext=/*#__PURE__*/createContext({});export function useShoppingCart(){return useContext(ShoppingCartContext);}export function ShoppingCartProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cartItems=_useState4[0],setCartItems=_useState4[1];var cartQuantity=cartItems.reduce(function(quantity,item){return item.quantity+quantity;},0);var openCart=function openCart(){return setIsOpen(true);};var closeCart=function closeCart(){return setIsOpen(false);};function getItemQuantity(id){var _cartItems$find;return((_cartItems$find=cartItems.find(function(item){return item.id===id;}))===null||_cartItems$find===void 0?void 0:_cartItems$find.quantity)||0;}function increaseCartQuantity(id){setCartItems(function(currItems){if(currItems.find(function(item){return item.id===id;})==null){return[].concat(_toConsumableArray(currItems),[{id:id,quantity:1}]);}else{return currItems.map(function(item){if(item.id===id){return _objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1});}else{return item;}});}});}function decreaseCartQuantity(id){setCartItems(function(currItems){var _currItems$find;if(((_currItems$find=currItems.find(function(item){return item.id===id;}))===null||_currItems$find===void 0?void 0:_currItems$find.quantity)===1){return currItems.filter(function(item){return item.id!==id;});}else{return currItems.map(function(item){if(item.id===id){return _objectSpread(_objectSpread({},item),{},{quantity:item.quantity-1});}else{return item;}});}});}function removeFromCart(id){setCartItems(function(currItems){return currItems.filter(function(item){return item.id!==id;});});}return/*#__PURE__*/_jsxs(ShoppingCartContext.Provider,{value:{getItemQuantity:getItemQuantity,increaseCartQuantity:increaseCartQuantity,decreaseCartQuantity:decreaseCartQuantity,removeFromCart:removeFromCart,openCart:openCart,closeCart:closeCart,cartItems:cartItems,cartQuantity:cartQuantity},children:[children,/*#__PURE__*/_jsx(ShoppingCart,{isOpen:isOpen})]});}","map":{"version":3,"names":["React","createContext","useContext","useState","ShoppingCart","ShoppingCartContext","useShoppingCart","ShoppingCartProvider","children","isOpen","setIsOpen","cartItems","setCartItems","cartQuantity","reduce","quantity","item","openCart","closeCart","getItemQuantity","id","find","increaseCartQuantity","currItems","map","decreaseCartQuantity","filter","removeFromCart"],"sources":["/Users/jeremydelorme/Documents/web_development/eau-pale-official-website/eau-pale-official-website/src/context/ShoppingCartContext.tsx"],"sourcesContent":["import * as React from 'react';\nimport { createContext, ReactNode, useContext, useState } from 'react';\nimport { ShoppingCart } from '../components/ShoppingCart';\n\n\ntype ShoppingCartProviderProps = {\n    children: ReactNode\n};\n\ntype CartItem = {\n    id: number\n    quantity: number\n};\n\ntype ShoppingCartContext = {\n    openCart: () => void\n    closeCart: () => void\n    getItemQuantity: (id: number) => number\n    increaseCartQuantity: (id: number) => void\n    decreaseCartQuantity: (id: number) => void\n    removeFromCart: (id: number) => void\n    cartQuantity: number\n    cartItems: CartItem[]\n};\n\nconst ShoppingCartContext = createContext({} as ShoppingCartContext);\n\nexport function useShoppingCart() {\n    return useContext(ShoppingCartContext);\n}\n\nexport function ShoppingCartProvider({ children }:\n    ShoppingCartProviderProps) {\n    const [isOpen, setIsOpen] = useState(false);\n    const [cartItems, setCartItems] = useState<CartItem[]>([]);\n\n    const cartQuantity = cartItems.reduce(\n        (quantity, item) => item.quantity + quantity, 0\n    );\n\n    const openCart = () => setIsOpen(true);\n    const closeCart = () => setIsOpen(false);\n\n    function getItemQuantity(id: number) {\n        return cartItems.find(item => item.id === id)?.quantity || 0;\n    }\n\n    function increaseCartQuantity(id: number) {\n        setCartItems(currItems => {\n            if (currItems.find(item => item.id === id) == null) {\n                return [...currItems, { id, quantity: 1 }];\n            } else {\n                return currItems.map(item => {\n                    if (item.id === id) {\n                        return { ...item, quantity: item.quantity + 1 };\n                    } else {\n                        return item;\n                    }\n                });\n            }\n        });\n    }\n\n    function decreaseCartQuantity(id: number) {\n        setCartItems(currItems => {\n            if (currItems.find(item => item.id === id)?.quantity === 1) {\n                return currItems.filter(item => item.id !== id);\n            } else {\n                return currItems.map(item => {\n                    if (item.id === id) {\n                        return { ...item, quantity: item.quantity - 1 };\n                    } else {\n                        return item;\n                    }\n                });\n            }\n        });\n    }\n\n    function removeFromCart(id: number) {\n        setCartItems(currItems => {\n            return currItems.filter(item => item.id !== id);\n        });\n    }\n    return (\n        <ShoppingCartContext.Provider value={{\n            getItemQuantity,\n            increaseCartQuantity,\n            decreaseCartQuantity,\n            removeFromCart,\n            openCart,\n            closeCart,\n            cartItems,\n            cartQuantity\n        }}>\n            {children}\n            <ShoppingCart isOpen={isOpen} />\n        </ShoppingCartContext.Provider>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}